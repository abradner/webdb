= render :partial => "shared/form_header", :locals => {:action => action, :obj => "Data Object Row"}
= render :partial => "shared/form_errors", :locals => {:obj => @data_object_row}

= form_for [@system, @data_object, @data_object_row] do |f|
  .lightbox
    - @data_object.data_object_attributes.each do |attr|
      .field.line
        = f.label attr.name, attr.required ? required_field(attr.label) : attr.label
        .lastUnit
          = text_field_tag "data_object_row[#{attr.name}]", @data_object_row[attr.name] #CURSE YOU DYNAMIC ATTRIBUTES!!
    .field.line
      .field.actions
        = button_link_to "Cancel", system_data_object_path(@system, @data_object)
        = f.submit :class => "blue basic_field"
